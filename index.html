<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenRouter æ¨¡å‹å®šä»·ä¸æ¯”è¾ƒ | AI æ¨¡å‹æˆæœ¬è®¡ç®—å™¨</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="æ¯”è¾ƒ OpenRouter ä¸Š 400+ æ¨¡å‹çš„ AI æ¨¡å‹å®šä»·ã€‚GPT-4ã€Claudeã€Llama ç­‰æ¨¡å‹çš„å®æ—¶å®šä»·æ•°æ®ã€‚æ¯ 12 å°æ—¶æ›´æ–°ä¸€æ¬¡ï¼ŒåŒ…å«æç¤ºè¯å’Œè¡¥å…¨çš„æ¯ç™¾ä¸‡ä»¤ç‰Œæˆæœ¬ã€‚">
  <meta name="keywords" content="OpenRouter å®šä»·, AI æ¨¡å‹æˆæœ¬, LLM å®šä»·æ¯”è¾ƒ, GPT-4 å®šä»·, Claude å®šä»·, AI API æˆæœ¬, æ¨¡å‹æ¯”è¾ƒå·¥å…·, ä»¤ç‰Œå®šä»·è®¡ç®—å™¨, è¯­è¨€æ¨¡å‹æˆæœ¬">
  <meta name="author" content="OpenRouterList">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://openrouterlist.jvrck.com/">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="OpenRouter æ¨¡å‹å®šä»·ä¸æ¯”è¾ƒå·¥å…·">
  <meta property="og:description" content="æ¯”è¾ƒ 400+ AI æ¨¡å‹çš„å®æ—¶å®šä»·ã€‚é€šè¿‡æ›´æ–°çš„å®šä»·æ•°æ®ï¼Œæ‰¾åˆ°æœ€é€‚åˆæ‚¨éœ€æ±‚çš„æˆæœ¬æ•ˆç›Šæœ€é«˜çš„ LLMã€‚">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://openrouterlist.jvrck.com/">
  <meta property="og:site_name" content="OpenRouterList">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="OpenRouter æ¨¡å‹å®šä»·ä¸æ¯”è¾ƒ">
  <meta name="twitter:description" content="æ¯”è¾ƒ 400+ AI æ¨¡å‹çš„å®šä»·ã€‚å®æ—¶æ•°æ®æ¯ 12 å°æ—¶æ›´æ–°ä¸€æ¬¡ã€‚">
  <meta name="twitter:url" content="https://openrouterlist.jvrck.com/">
  
  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "OpenRouter æ¨¡å‹å®šä»·æ¯”è¾ƒ",
    "description": "æ¯”è¾ƒå’Œåˆ†æé€šè¿‡ OpenRouter API å¯ç”¨çš„ AI è¯­è¨€æ¨¡å‹å®šä»·",
    "url": "https://openrouterlist.jvrck.com/",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "All",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "creator": {
      "@type": "Organization",
      "name": "OpenRouterList"
    }
  }
  </script>

  <!-- Include DataTables CSS -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.7.1/css/buttons.dataTables.min.css">
  
  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Include DataTables JS -->
  <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.flash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.print.min.js"></script>

  <style>
    :root {
      --bg-primary: #ffffff;
      --bg-secondary: #f9f9f9;
      --bg-hover: #f0f0f0;
      --text-primary: #333333;
      --text-secondary: #666666;
      --border-color: #dddddd;
      --header-bg: #2563eb;
      --header-text: white;
      --link-color: #0066cc;
      --favorite-color: #ffa500;
      --card-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    [data-theme="dark"] {
      --bg-primary: #1e1e1e;
      --bg-secondary: #2d2d2d;
      --bg-hover: #404040;
      --text-primary: #e8e8e8;
      --text-secondary: #b8b8b8;
      --border-color: #4a4a4a;
      --header-bg: #3b82f6;
      --header-text: #ffffff;
      --link-color: #70b8ff;
      --favorite-color: #ffd700;
      --card-shadow: 0 2px 4px rgba(0,0,0,0.4);
    }

    * {
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 20px;
      gap: 15px;
    }

    h1 {
      color: var(--text-primary);
      margin: 0;
    }

    .controls {
      display: flex;
      gap: 15px;
      align-items: center;
      flex-wrap: wrap;
    }

    .theme-toggle {
      display: flex;
      gap: 5px;
      background-color: var(--bg-secondary);
      border-radius: 20px;
      padding: 5px;
      border: 1px solid var(--border-color);
    }

    .theme-btn {
      padding: 8px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 15px;
      color: var(--text-primary);
      font-size: 14px;
      transition: background-color 0.3s;
    }

    .theme-btn.active {
      background-color: var(--header-bg);
      color: white;
    }

    .density-toggle {
      display: flex;
      gap: 5px;
      background-color: var(--bg-secondary);
      border-radius: 20px;
      padding: 5px;
      border: 1px solid var(--border-color);
    }

    .density-btn {
      padding: 8px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 15px;
      color: var(--text-primary);
      font-size: 14px;
      transition: background-color 0.3s;
    }

    .density-btn.active {
      background-color: var(--header-bg);
      color: white;
    }

    .view-toggle {
      display: none;
    }

    .btn {
      padding: 8px 15px;
      border: 1px solid var(--border-color);
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 5px;
      font-size: 14px;
    }

    .btn:hover {
      background-color: var(--bg-hover);
    }

    

    .info-section {
      background-color: var(--bg-secondary);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
    }

    .info-section p {
      margin: 5px 0;
      color: var(--text-secondary);
    }

    .info-section a {
      color: var(--link-color);
      text-decoration: none;
    }

    .info-section a:hover {
      text-decoration: underline;
    }

    .column-selector {
      margin-bottom: 15px;
      padding: 15px;
      background-color: var(--bg-secondary);
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    /* Capability Filter Styles */
    .capability-filters {
      margin-bottom: 20px;
      padding: 15px;
      background-color: var(--bg-secondary);
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    .capability-filters-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .capability-filters-title {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--text-primary);
      font-weight: 600;
    }

    .filter-count-badge {
      background-color: var(--header-bg);
      color: white;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
      display: none;
    }

    .filter-count-badge.active {
      display: inline-block;
    }

    .filter-controls {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .filter-mode-toggle {
      display: flex;
      background-color: var(--bg-primary);
      border-radius: 20px;
      padding: 3px;
      border: 1px solid var(--border-color);
    }

    .filter-mode-btn {
      padding: 6px 12px;
      border: none;
      background: transparent;
      cursor: pointer;
      border-radius: 17px;
      color: var(--text-primary);
      font-size: 13px;
      transition: background-color 0.3s;
      white-space: nowrap;
    }

    .filter-mode-btn.active {
      background-color: var(--header-bg);
      color: white;
    }

    .clear-filters-btn {
      padding: 6px 12px;
      border: 1px solid var(--border-color);
      background-color: var(--bg-primary);
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 5px;
      font-size: 13px;
      transition: background-color 0.2s;
    }

    .clear-filters-btn:hover {
      background-color: var(--bg-hover);
    }

    .capability-checkboxes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px;
      margin-bottom: 15px;
    }

    .capability-checkbox {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background-color: var(--bg-primary);
      border: 1px solid var(--border-color);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .capability-checkbox:hover {
      background-color: var(--bg-hover);
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .capability-checkbox input {
      cursor: pointer;
      width: 18px;
      height: 18px;
    }

    .capability-checkbox label {
      cursor: pointer;
      color: var(--text-primary);
      font-size: 14px;
      user-select: none;
      flex: 1;
    }

    .capability-checkbox.checked {
      background-color: var(--header-bg);
      border-color: var(--header-bg);
    }

    .capability-checkbox.checked label {
      color: white;
    }

    

    .filter-results-info {
      padding: 8px 12px;
      background-color: var(--bg-primary);
      border-radius: 5px;
      text-align: center;
      color: var(--text-secondary);
      font-size: 14px;
      margin-top: 10px;
      display: none;
    }

    .filter-results-info.active {
      display: block;
    }

    .column-selector h3 {
      margin-top: 0;
      color: var(--text-primary);
    }

    .column-checkboxes {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .column-checkbox {
      display: flex;
      align-items: center;
      gap: 5px;
      color: var(--text-primary);
    }

    .column-checkbox input {
      cursor: pointer;
    }

    table {
      width: 100%;
      background-color: var(--bg-primary);
    }

    th {
      background-color: var(--header-bg) !important;
      color: var(--header-text) !important;
      padding: 10px;
      text-align: left;
    }

    td {
      padding: 8px;
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      background-color: var(--bg-primary);
    }

    tr {
      background-color: var(--bg-primary) !important;
    }

    tr:nth-child(even) {
      background-color: var(--bg-secondary) !important;
    }

    tr:nth-child(even) td {
      background-color: var(--bg-secondary) !important;
    }

    tr:hover {
      background-color: var(--bg-hover) !important;
    }

    tr:hover td {
      background-color: var(--bg-hover) !important;
    }

    td a {
      color: var(--link-color);
      text-decoration: none;
    }

    td a:hover {
      text-decoration: underline;
    }

    

    /* Density Styles */
    table.density-compact td,
    table.density-compact th {
      padding: 4px 8px !important;
    }

    table.density-comfortable td,
    table.density-comfortable th {
      padding: 8px 10px !important;
    }

    table.density-spacious td,
    table.density-spacious th {
      padding: 12px 16px !important;
    }
    
    /* Mobile table improvements */
    @media (max-width: 768px) {
      table.density-compact td,
      table.density-compact th {
        padding: 6px 4px !important;
        font-size: 11px;
      }
      
      table.density-comfortable td,
      table.density-comfortable th {
        padding: 8px 6px !important;
        font-size: 12px;
      }
      
      table.density-spacious td,
      table.density-spacious th {
        padding: 10px 8px !important;
        font-size: 13px;
      }
    }

    /* Mobile Card View */
    .card-view {
      display: none;
    }
    
    /* Mobile navigation improvements */
    @media (max-width: 768px) {
      .container {
        padding: 0 5px;
      }
      
      /* Make header more mobile-friendly */
      .header {
        padding: 10px;
        background-color: var(--bg-secondary);
        border-radius: 8px;
        margin-bottom: 15px;
      }
      
      /* Improve button spacing on mobile */
      .controls > * {
        margin-bottom: 8px;
      }
      
      /* Better spacing for sections */
      .info-section,
      .capability-filters {
        margin-bottom: 15px;
      }
      
      /* Make search box more prominent on mobile */
      .dataTables_filter input {
        width: 100%;
        margin-bottom: 10px;
        font-size: 16px; /* Prevent zoom on iOS */
      }
      
      /* Better table info display */
      .dataTables_info {
        text-align: center;
        margin-top: 10px;
      }
      
      /* Pagination improvements */
      .dataTables_paginate {
        text-align: center;
        margin-top: 15px;
      }
      
      .dataTables_paginate .paginate_button {
        margin: 0 2px;
        padding: 5px 10px;
      }
    }

    .model-card {
      background-color: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: var(--card-shadow);
    }

    .model-card-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 10px;
    }

    .model-card-title {
      font-size: 16px;
      font-weight: bold;
      color: var(--text-primary);
      flex: 1;
    }

    .model-card-title a {
      color: var(--link-color);
      text-decoration: none;
    }

    .model-card-details {
      display: grid;
      gap: 8px;
      font-size: 14px;
      color: var(--text-secondary);
    }

    .model-card-row {
      display: flex;
      justify-content: space-between;
    }

    .model-card-label {
      font-weight: 500;
    }

    .model-card-value {
      color: var(--text-primary);
    }

    /* Keyboard shortcuts modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background-color: var(--bg-primary);
      margin: 10% auto;
      padding: 20px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      width: 80%;
      max-width: 500px;
      color: var(--text-primary);
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .close {
      color: var(--text-secondary);
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover {
      color: var(--text-primary);
    }

    .shortcuts-list {
      margin-top: 20px;
    }

    .shortcut-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid var(--border-color);
    }

    .shortcut-key {
      background-color: var(--bg-secondary);
      padding: 2px 8px;
      border-radius: 4px;
      font-family: monospace;
      font-weight: bold;
    }

    /* Tooltip Styles */
    .tooltip-wrapper {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .tooltip-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: var(--text-secondary);
      color: var(--bg-primary);
      font-size: 11px;
      font-weight: bold;
      cursor: help;
      transition: background-color 0.2s;
      flex-shrink: 0;
    }

    .tooltip-icon:hover {
      background-color: var(--header-bg);
    }

    .tooltip-content {
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);
      background-color: var(--text-primary);
      color: var(--bg-primary);
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 13px;
      white-space: nowrap;
      max-width: 250px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
      z-index: 1000;
      pointer-events: none;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }

    .tooltip-content.wide {
      white-space: normal;
      text-align: center;
    }

    .tooltip-content::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: var(--text-primary);
    }

    .tooltip-wrapper:hover .tooltip-content {
      opacity: 1;
      visibility: visible;
    }

    /* Dark theme tooltip adjustments */
    [data-theme="dark"] .tooltip-content {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    [data-theme="dark"] .tooltip-content::after {
      border-top-color: var(--bg-secondary);
    }

    /* Capability checkbox with tooltip */
    .capability-label-wrapper {
      display: flex;
      align-items: center;
      gap: 6px;
      flex: 1;
    }

    .capability-label-wrapper label {
      flex: 1;
    }

    /* Filter mode tooltip */
    .filter-mode-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    

    /* Mobile tooltip adjustments */
    @media (max-width: 768px) {
      .tooltip-content {
        max-width: 200px;
        font-size: 12px;
      }
      
      /* On mobile, show tooltips on tap */
      .tooltip-wrapper.mobile-active .tooltip-content {
        opacity: 1;
        visibility: visible;
      }
    }

    /* DataTables overrides for dark mode */
    [data-theme="dark"] table.dataTable {
      background-color: var(--bg-primary) !important;
    }

    [data-theme="dark"] table.dataTable tbody tr {
      background-color: var(--bg-primary) !important;
    }

    [data-theme="dark"] table.dataTable tbody tr:nth-child(even) {
      background-color: var(--bg-secondary) !important;
    }

    [data-theme="dark"] table.dataTable tbody tr:hover {
      background-color: var(--bg-hover) !important;
    }

    [data-theme="dark"] table.dataTable tbody td {
      background-color: inherit !important;
      color: var(--text-primary) !important;
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_length,
    [data-theme="dark"] .dataTables_wrapper .dataTables_filter,
    [data-theme="dark"] .dataTables_wrapper .dataTables_info,
    [data-theme="dark"] .dataTables_wrapper .dataTables_processing,
    [data-theme="dark"] .dataTables_wrapper .dataTables_paginate {
      color: var(--text-primary);
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button {
      color: var(--text-primary) !important;
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.disabled {
      color: var(--text-secondary) !important;
    }

    [data-theme="dark"] .dataTables_wrapper .dataTables_filter input,
    [data-theme="dark"] .dataTables_wrapper .dataTables_length select {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    [data-theme="dark"] .dt-buttons .dt-button {
      background-color: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    [data-theme="dark"] .dt-buttons .dt-button:hover {
      background-color: var(--bg-hover);
    }

    /* Modern DataTables Button Styles */
    .dt-buttons {
      margin-bottom: 15px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .dt-button {
      padding: 8px 15px !important;
      border: 1px solid var(--border-color) !important;
      background-color: var(--bg-secondary) !important;
      color: var(--text-primary) !important;
      cursor: pointer !important;
      border-radius: 8px !important;
      font-size: 14px !important;
      font-weight: 500 !important;
      transition: all 0.2s ease !important;
      display: inline-flex !important;
      align-items: center !important;
      gap: 6px !important;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif !important;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05) !important;
    }

    .dt-button:hover {
      background-color: var(--bg-hover) !important;
      transform: translateY(-1px) !important;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
    }

    .dt-button:active {
      transform: translateY(0) !important;
    }

    /* Add icons to buttons */
    .dt-button.buttons-copy:before {
      content: "ğŸ“‹";
      font-size: 16px;
    }

    .dt-button.buttons-csv:before {
      content: "ğŸ“„";
      font-size: 16px;
    }

    .dt-button.buttons-excel:before {
      content: "ğŸ“Š";
      font-size: 16px;
    }

    .dt-button.buttons-pdf:before {
      content: "ğŸ“‘";
      font-size: 16px;
    }

    .dt-button.buttons-print:before {
      content: "ğŸ–¨ï¸";
      font-size: 16px;
    }

    /* Button container positioning */
    .dataTables_wrapper .dt-buttons {
      float: none;
      text-align: left;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .dt-buttons {
        justify-content: center;
        flex-wrap: wrap;
        gap: 6px;
      }
      
      .dt-button {
        font-size: 12px !important;
        padding: 8px 10px !important;
        margin: 2px;
      }
    }

    @media (max-width: 768px) {
      .view-toggle {
        display: block;
        width: 100%;
        margin-top: 10px;
      }

      .header {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
      }

      h1 {
        font-size: 1.5em;
        text-align: center;
      }

      .controls {
        flex-direction: column;
        width: 100%;
        gap: 10px;
      }

      .theme-toggle,
      .density-toggle {
        width: 100%;
        justify-content: center;
      }

      .column-selector {
        display: none;
      }
      
      .capability-filters {
        padding: 12px;
      }
      
      .capability-filters-header {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
      }
      
      .filter-controls {
        flex-direction: column;
        gap: 10px;
      }
      
      .filter-mode-toggle {
        width: 100%;
        justify-content: center;
      }
      
      .capability-checkboxes {
        grid-template-columns: 1fr;
      }

      body {
        padding: 10px;
      }
      
      .info-section {
        font-size: 14px;
      }
      
      .info-section h2 {
        font-size: 1.1em;
      }
      
      /* Improve table display on mobile */
      .dataTables_wrapper {
        font-size: 12px;
      }
      
      .dataTables_wrapper .dataTables_info {
        font-size: 11px;
      }
      
      .dataTables_wrapper .dataTables_length,
      .dataTables_wrapper .dataTables_filter {
        font-size: 12px;
      }
      
      /* Make table scrollable horizontally on mobile */
      .table-view {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      
      /* Improve card view on mobile */
      .model-card {
        margin-bottom: 12px;
        padding: 12px;
      }
      
      .model-card-title {
        font-size: 15px;
      }
      
      .model-card-details {
        font-size: 13px;
      }
      
      /* Better button layout on mobile */
      .btn {
        font-size: 14px;
        padding: 10px 15px;
        width: 100%;
        margin-bottom: 5px;
      }
      
      /* Modal improvements for mobile */
      .modal-content {
        width: 95%;
        margin: 5% auto;
        padding: 15px;
      }
      
      .shortcuts-list {
        font-size: 14px;
      }
      
      .shortcut-item {
        padding: 10px 0;
      }
    }
    
    /* Extra small screens */
    @media (max-width: 480px) {
      h1 {
        font-size: 1.3em;
      }
      
      .capability-checkbox {
        padding: 10px;
        font-size: 13px;
      }
      
      .model-card {
        padding: 10px;
      }
      
      .model-card-title {
        font-size: 14px;
      }
      
      .model-card-details {
        font-size: 12px;
      }
      
      .dataTables_wrapper {
        font-size: 11px;
      }
      
      .dt-button {
        font-size: 11px !important;
        padding: 6px 8px !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header" role="banner">
      <h1>OpenRouter æ¨¡å‹å®šä»·æ¯”è¾ƒå·¥å…·</h1>
      <div class="controls">
        <div class="theme-toggle">
          <button class="theme-btn" data-theme="light">â˜€ï¸ æµ…è‰²</button>
          <button class="theme-btn" data-theme="dark">ğŸŒ™ æ·±è‰²</button>
          <button class="theme-btn" data-theme="system">ğŸ–¥ï¸ ç³»ç»Ÿ</button>
        </div>
        <div class="density-toggle">
          <button class="density-btn" data-density="compact">ç´§å‡‘</button>
          <button class="density-btn active" data-density="comfortable">èˆ’é€‚</button>
          <button class="density-btn" data-density="spacious">å®½æ¾</button>
        </div>
        
        <button id="viewToggle" class="btn view-toggle">ğŸ“± å¡ç‰‡è§†å›¾</button>
        <button id="helpBtn" class="btn" aria-label="Show keyboard shortcuts">? å¸®åŠ©</button>
      </div>
    </header>

    <section class="info-section" role="region" aria-label="About this tool">
      <h2 style="font-size: 1.2em; margin-top: 0; color: var(--text-primary);">å®æ—¶ AI æ¨¡å‹å®šä»·æ•°æ®</h2>
      <p id="updatedDate"></p>
      <p>æ¯”è¾ƒé€šè¿‡ <a href="https://openrouter.ai/" target="_blank" rel="noopener">OpenRouter</a> å¯ç”¨çš„ <strong>400+ AI è¯­è¨€æ¨¡å‹</strong> çš„å®šä»·ã€‚è¿™ä¸ªå…¨é¢çš„å®šä»·æ¯”è¾ƒå·¥å…·å¸®åŠ©å¼€å‘è€…å’Œä¼ä¸šæ‰¾åˆ°æœ€é€‚åˆå…¶ç‰¹å®šéœ€æ±‚çš„æœ€å…·æˆæœ¬æ•ˆç›Šçš„ AI æ¨¡å‹ã€‚</p>
      <p><strong>åŠŸèƒ½ï¼š</strong>æŒ‰åç§°ã€èƒ½åŠ›ã€ä¸Šä¸‹æ–‡é•¿åº¦å’Œæˆæœ¬æœç´¢å’Œè¿‡æ»¤æ¨¡å‹ã€‚ä»¥å¤šç§æ ¼å¼å¯¼å‡ºæ•°æ®ã€‚æ˜¾ç¤ºæç¤ºè¯å’Œè¡¥å…¨çš„æ¯ç™¾ä¸‡ä»¤ç‰Œå®šä»·ã€‚</p>
      <p>æ•°æ®æ¯ 12 å°æ—¶è‡ªåŠ¨æ›´æ–°ä»¥ç¡®ä¿å‡†ç¡®æ€§ã€‚æºä»£ç å¯åœ¨ <a href="https://github.com/jvrck/openrouterlist" target="_blank" rel="noopener">GitHub</a> ä¸Šè·å–ã€‚</p>
    </section>

    <!-- Capability Filters Section -->
    <section class="capability-filters" role="region" aria-label="Filter models by capabilities">
      <div class="capability-filters-header">
        <div class="capability-filters-title">
          <span>ğŸ¯ æŒ‰èƒ½åŠ›ç­›é€‰</span>
          <span class="filter-count-badge" id="filterCountBadge">0 ä¸ªæ¿€æ´»</span>
        </div>
        <div class="filter-controls">
          <div class="filter-mode-wrapper">
            <div class="filter-mode-toggle">
              <button class="filter-mode-btn active" data-mode="all">åŒ¹é…å…¨éƒ¨</button>
              <button class="filter-mode-btn" data-mode="any">åŒ¹é…ä»»æ„</button>
            </div>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">åŒ¹é…å…¨éƒ¨ï¼šæ¨¡å‹å¿…é¡»å…·å¤‡æ‰€æœ‰é€‰ä¸­çš„èƒ½åŠ›<br>åŒ¹é…ä»»æ„ï¼šæ¨¡å‹åªéœ€å…·å¤‡ä¸€ä¸ªé€‰ä¸­çš„èƒ½åŠ›</div>
            </div>
          </div>
          <button class="clear-filters-btn" id="clearFiltersBtn">æ¸…é™¤å…¨éƒ¨</button>
        </div>
      </div>
      
      <div class="capability-checkboxes">
        <div class="capability-checkbox" data-capability="tool_calling">
          <input type="checkbox" id="filter-tool-calling">
          <div class="capability-label-wrapper">
            <label for="filter-tool-calling">ğŸ”§ å·¥å…·è°ƒç”¨</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹å¯ä»¥è°ƒç”¨å¤–éƒ¨å‡½æ•°/API æ¥æ‰§è¡Œè®¡ç®—ã€æ•°æ®åº“æŸ¥è¯¢ç­‰æ“ä½œ</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="structured_outputs">
          <input type="checkbox" id="filter-structured-outputs">
          <div class="capability-label-wrapper">
            <label for="filter-structured-outputs">ğŸ“‹ ç»“æ„åŒ–è¾“å‡º</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹èƒ½å¤Ÿå¯é åœ°æŒ‰ç…§ç²¾ç¡®çš„æ¨¡å¼è¿”å›ç‰¹å®šæ ¼å¼ï¼ˆå¦‚ JSONï¼‰çš„æ•°æ®</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="reasoning">
          <input type="checkbox" id="filter-reasoning">
          <div class="capability-label-wrapper">
            <label for="filter-reasoning">ğŸ§  æ¨ç†</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹å±•ç¤ºé€æ­¥æ€è€ƒè¿‡ç¨‹ï¼Œé€‚ç”¨äºå¤æ‚é—®é¢˜è§£å†³</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="response_format">
          <input type="checkbox" id="filter-response-format">
          <div class="capability-label-wrapper">
            <label for="filter-response-format">ğŸ“ å“åº”æ ¼å¼</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹æ”¯æŒè‡ªå®šä¹‰è¾“å‡ºæ ¼å¼æŒ‡ä»¤å’Œæ¨¡æ¿</div>
            </div>
          </div>
        </div>
        <div class="capability-checkbox" data-capability="web_search">
          <input type="checkbox" id="filter-web-search">
          <div class="capability-label-wrapper">
            <label for="filter-web-search">ğŸŒ ç½‘ç»œæœç´¢</label>
            <div class="tooltip-wrapper">
              <span class="tooltip-icon">?</span>
              <div class="tooltip-content wide">æ¨¡å‹å¯ä»¥åœ¨å¯¹è¯è¿‡ç¨‹ä¸­ä¸»åŠ¨æœç´¢äº’è”ç½‘è·å–å½“å‰ä¿¡æ¯</div>
            </div>
          </div>
        </div>
      </div>
      
      
      
      <div class="filter-results-info" id="filterResultsInfo">
        <span id="filterResultsText">0 ä¸ªæ¨¡å‹åŒ¹é…æ‚¨çš„ç­›é€‰æ¡ä»¶</span>
      </div>
    </section>

    <section class="column-selector" role="region" aria-label="Column visibility controls">
      <h3>æ˜¾ç¤º/éšè—åˆ—ï¼š</h3>
      <div class="column-checkboxes">
        <label class="column-checkbox">
          <input type="checkbox" data-column="0" checked> æ¨¡å‹ ID
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="1" checked> æ¨¡å‹åç§°
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="2" checked> åˆ›å»ºæ—¶é—´
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="3" checked> ä¸Šä¸‹æ–‡é•¿åº¦
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="4" checked> è¾“å…¥æˆæœ¬
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="5" checked> è¾“å‡ºæˆæœ¬
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="6" checked> å·¥å…·è°ƒç”¨
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="7" checked> ç»“æ„åŒ–è¾“å‡º
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="8" checked> æ¨ç†
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="9" checked> å“åº”æ ¼å¼
        </label>
        <label class="column-checkbox">
          <input type="checkbox" data-column="10" checked> ç½‘ç»œæœç´¢
        </label>
      </div>
    </section>

    <main class="table-view" role="main">
      <table id="csvTable" class="display" style="width:100%">
        <thead>
          <tr id="tableHeaders"></tr>
        </thead>
        <tbody id="tableBody"></tbody>
      </table>
    </main>

    <div class="card-view" id="cardView" role="region" aria-label="Card view of models"></div>
    
    <footer style="margin-top: 40px; padding: 20px 0; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-secondary);">
      <p>OpenRouterList - å…è´¹ AI æ¨¡å‹å®šä»·æ¯”è¾ƒå·¥å…· | æ¯ 12 å°æ—¶æ›´æ–°</p>
      <p>
        <a href="https://github.com/jvrck/openrouterlist" target="_blank" rel="noopener" style="color: var(--link-color);">GitHub</a> | 
        <a href="https://openrouter.ai/" target="_blank" rel="noopener" style="color: var(--link-color);">OpenRouter API</a> | 
        <a href="https://openrouter.ai/docs" target="_blank" rel="noopener" style="color: var(--link-color);">API æ–‡æ¡£</a>
      </p>
    </footer>
  </div>

  <!-- Keyboard Shortcuts Modal -->
  <div id="shortcutsModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>é”®ç›˜å¿«æ·é”®</h2>
      <div class="shortcuts-list">
        <div class="shortcut-item">
          <span>èšç„¦æœç´¢</span>
          <span class="shortcut-key">/</span>
        </div>
        
        <div class="shortcut-item">
          <span>æ›´æ”¹ä¸»é¢˜</span>
          <span class="shortcut-key">t</span>
        </div>
        <div class="shortcut-item">
          <span>æ›´æ”¹å¯†åº¦</span>
          <span class="shortcut-key">d</span>
        </div>
        <div class="shortcut-item">
          <span>åˆ‡æ¢è§†å›¾ï¼ˆç§»åŠ¨ç«¯ï¼‰</span>
          <span class="shortcut-key">v</span>
        </div>
        <div class="shortcut-item">
          <span>å¯¼å‡ºä¸º CSV</span>
          <span class="shortcut-key">e</span>
        </div>
        <div class="shortcut-item">
          <span>èšç„¦èƒ½åŠ›ç­›é€‰</span>
          <span class="shortcut-key">c</span>
        </div>
        <div class="shortcut-item">
          <span>åˆ‡æ¢ç­›é€‰æ¨¡å¼</span>
          <span class="shortcut-key">m</span>
        </div>
        <div class="shortcut-item">
          <span>æ¸…é™¤æ‰€æœ‰ç­›é€‰</span>
          <span class="shortcut-key">x</span>
        </div>
        <div class="shortcut-item">
          <span>æ˜¾ç¤ºæ­¤å¸®åŠ©</span>
          <span class="shortcut-key">?</span>
        </div>
        <div class="shortcut-item">
          <span>å…³é—­å¯¹è¯æ¡†</span>
          <span class="shortcut-key">Esc</span>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Global variables
    let dataTable;
    let allData = [];
    let currentTheme = localStorage.getItem('theme') || 'system';
    let currentDensity = localStorage.getItem('density') || 'comfortable';
    let columnVisibility = JSON.parse(localStorage.getItem('columnVisibility')) || {};
    let isCardView = false;
    
    // Capability filter variables
    let activeCapabilityFilters = [];
    let capabilityFilterMode = 'all'; // 'all' or 'any'
    let isCapabilityFilterActive = false;

    // Theme management
    function applyTheme(theme) {
      if (theme === 'system') {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
      } else {
        document.documentElement.setAttribute('data-theme', theme);
      }
      
      $('.theme-btn').removeClass('active');
      $(`.theme-btn[data-theme="${theme}"]`).addClass('active');
      localStorage.setItem('theme', theme);
      currentTheme = theme;
    }

    // Density management
    function applyDensity(density) {
      $('#csvTable').removeClass('density-compact density-comfortable density-spacious');
      $('#csvTable').addClass(`density-${density}`);
      
      $('.density-btn').removeClass('active');
      $(`.density-btn[data-density="${density}"]`).addClass('active');
      localStorage.setItem('density', density);
      currentDensity = density;
    }

    

    // Capability filter functions
    function updateCapabilityFilters() {
      activeCapabilityFilters = [];
      $('.capability-checkbox input:checked').each(function() {
        const capability = $(this).parent().data('capability');
        activeCapabilityFilters.push(capability);
      });
      
      isCapabilityFilterActive = activeCapabilityFilters.length > 0;
      
      // Update UI indicators
      updateFilterIndicators();
      
      // Apply filters
      applyCapabilityFilters();
    }
    
    function updateFilterIndicators() {
      const count = activeCapabilityFilters.length;
      
      if (count > 0) {
        $('#filterCountBadge').text(`${count} active`).addClass('active');
        $('#filterResultsInfo').addClass('active');
      } else {
        $('#filterCountBadge').removeClass('active');
        $('#filterResultsInfo').removeClass('active');
      }
      
      // Update checkbox styling
      $('.capability-checkbox').each(function() {
        const isChecked = $(this).find('input').prop('checked');
        $(this).toggleClass('checked', isChecked);
      });
    }
    
    function applyCapabilityFilters() {
      if (dataTable) {
        dataTable.draw();
      }
      
      if (isCardView) {
        renderCardView();
      }
      
      updateFilterResultsCount();
    }
    
    function updateFilterResultsCount() {
      if (!isCapabilityFilterActive) return;
      
      let filteredCount = 0;
      
      if (dataTable) {
        filteredCount = dataTable.rows({ search: 'applied' }).count();
      } else {
        filteredCount = getFilteredData().length;
      }
      
      $('#filterResultsText').text(`${filteredCount} models match your filters`);
    }
    
    function getFilteredData() {
      let data = allData;
      
      if (!isCapabilityFilterActive) return data;
      
      return data.filter(row => {
        if (capabilityFilterMode === 'all') {
          // Match ALL selected capabilities
          return activeCapabilityFilters.every(cap => row[cap] === 'Yes');
        } else {
          // Match ANY selected capability
          return activeCapabilityFilters.some(cap => row[cap] === 'Yes');
        }
      });
    }
    
    function clearCapabilityFilters() {
      $('.capability-checkbox input').prop('checked', false);
      updateCapabilityFilters();
    }
    
    

    // URL state management
    function updateURLState() {
      const params = new URLSearchParams();
      
      if (dataTable) {
        const search = dataTable.search();
        if (search) params.set('search', search);
      }
      
      
      if (currentTheme !== 'system') params.set('theme', currentTheme);
      if (currentDensity !== 'comfortable') params.set('density', currentDensity);
      
      // Add capability filters to URL
      if (activeCapabilityFilters.length > 0) {
        params.set('capabilities', activeCapabilityFilters.join(','));
        params.set('capMode', capabilityFilterMode);
      }
      
      const visibleColumns = [];
      $('.column-checkbox input:checked').each(function() {
        visibleColumns.push($(this).data('column'));
      });
      if (visibleColumns.length < 11) {
        params.set('columns', visibleColumns.join(','));
      }
      
      const newURL = params.toString() ? `?${params.toString()}` : window.location.pathname;
      window.history.replaceState({}, '', newURL);
    }

    function loadFromURL() {
      const params = new URLSearchParams(window.location.search);
      
      if (params.has('search') && dataTable) {
        dataTable.search(params.get('search')).draw();
      }
      
      
      
      if (params.has('theme')) {
        applyTheme(params.get('theme'));
      }
      
      if (params.has('density')) {
        applyDensity(params.get('density'));
      }
      
      // Load capability filters from URL
      if (params.has('capabilities')) {
        const capabilities = params.get('capabilities').split(',');
        capabilities.forEach(cap => {
          $(`.capability-checkbox[data-capability="${cap}"] input`).prop('checked', true);
        });
        
        if (params.has('capMode')) {
          capabilityFilterMode = params.get('capMode');
          $('.filter-mode-btn').removeClass('active');
          $(`.filter-mode-btn[data-mode="${capabilityFilterMode}"]`).addClass('active');
        }
        
        updateCapabilityFilters();
      }
      
      if (params.has('columns')) {
        const visibleColumns = params.get('columns').split(',').map(Number);
        $('.column-checkbox input').each(function() {
          const column = $(this).data('column');
          $(this).prop('checked', visibleColumns.includes(column));
          if (dataTable) {
            dataTable.column(column).visible(visibleColumns.includes(column));
          }
        });
      }
    }

    // Card view rendering
    function renderCardView() {
      const cardContainer = $('#cardView');
      cardContainer.empty();
      
      const dataToRender = getFilteredData();
      
      dataToRender.forEach(row => {
        const card = $(`
          <div class="model-card">
            <div class="model-card-header">
              <div class="model-card-title">
                <a href="https://openrouter.ai/models/${row.id}" target="_blank">${row.name}</a>
              </div>
            </div>
            <div class="model-card-details">
              <div class="model-card-row">
                <span class="model-card-label">æ¨¡å‹ ID:</span>
                <span class="model-card-value">${row.id}</span>
              </div>
              <div class="model-card-row">
                <span class="model-card-label">åˆ›å»ºæ—¶é—´:</span>
                <span class="model-card-value">${row.created}</span>
              </div>
              <div class="model-card-row">
                <span class="model-card-label">ä¸Šä¸‹æ–‡:</span>
                <span class="model-card-value">${row.context_length}</span>
              </div>
              <div class="model-card-row">
                <span class="model-card-label">è¾“å…¥æˆæœ¬:</span>
                <span class="model-card-value">${row.prompt_cost}/1M token</span>
              </div>
              <div class="model-card-row">
                <span class="model-card-label">è¾“å‡ºæˆæœ¬:</span>
                <span class="model-card-value">${row.completion_cost}/1M token</span>
              </div>
              ${row.tool_calling === 'Yes' ? `<div class="model-card-row">
                <span class="model-card-label">å·¥å…·è°ƒç”¨:</span>
                <span class="model-card-value">âœ“</span>
              </div>` : ''}
              ${row.structured_outputs === 'Yes' ? `<div class="model-card-row">
                <span class="model-card-label">ç»“æ„åŒ–è¾“å‡º:</span>
                <span class="model-card-value">âœ“</span>
              </div>` : ''}
              ${row.reasoning === 'Yes' ? `<div class="model-card-row">
                <span class="model-card-label">æ¨ç†:</span>
                <span class="model-card-value">âœ“</span>
              </div>` : ''}
              ${row.response_format === 'Yes' ? `<div class="model-card-row">
                <span class="model-card-label">å“åº”æ ¼å¼:</span>
                <span class="model-card-value">âœ“</span>
              </div>` : ''}
              ${row.web_search === 'Yes' ? `<div class="model-card-row">
                <span class="model-card-label">ç½‘ç»œæœç´¢:</span>
                <span class="model-card-value">âœ“</span>
              </div>` : ''}
            </div>
          </div>
        `);
        
        cardContainer.append(card);
      });
    }

    // Keyboard shortcuts
    function setupKeyboardShortcuts() {
      $(document).on('keydown', function(e) {
        // Don't trigger shortcuts when typing in input fields
        if ($(e.target).is('input, textarea')) {
          if (e.key === 'Escape') {
            $(e.target).blur();
          }
          return;
        }
        
        switch(e.key) {
          case '/':
            e.preventDefault();
            $('.dataTables_filter input').focus();
            break;
          
          case 't':
            const themes = ['light', 'dark', 'system'];
            const currentIndex = themes.indexOf(currentTheme);
            const nextTheme = themes[(currentIndex + 1) % themes.length];
            applyTheme(nextTheme);
            break;
          case 'd':
            const densities = ['compact', 'comfortable', 'spacious'];
            const densityIndex = densities.indexOf(currentDensity);
            const nextDensity = densities[(densityIndex + 1) % densities.length];
            applyDensity(nextDensity);
            break;
          case 'v':
            if (window.innerWidth <= 768) {
              $('#viewToggle').click();
            }
            break;
          case 'e':
            $('.dt-button.buttons-csv').click();
            break;
          case 'c':
            // Toggle capability filter focus
            $('.capability-checkbox input:first').focus();
            break;
          case 'm':
            // Toggle filter mode
            const currentMode = capabilityFilterMode === 'all' ? 'any' : 'all';
            $(`.filter-mode-btn[data-mode="${currentMode}"]`).click();
            break;
          case 'x':
            // Clear all filters
            if (isCapabilityFilterActive) {
              clearCapabilityFilters();
              updateURLState();
            }
            break;
          case '?':
            $('#shortcutsModal').show();
            break;
          case 'Escape':
            $('.modal').hide();
            break;
        }
      });
    }

    $(document).ready(function() {
      // Apply saved theme
      applyTheme(currentTheme);
      
      // Apply saved density
      applyDensity(currentDensity);
      
      // Setup keyboard shortcuts
      setupKeyboardShortcuts();
      
      // Check if mobile and switch to card view by default
      if (window.innerWidth <= 768) {
        isCardView = true;
        $('.table-view').hide();
        $('.card-view').show();
        $('.column-selector').hide();
        $('#viewToggle').html('ğŸ“Š è¡¨æ ¼è§†å›¾');
      }
      
      // Setup mobile tooltip handling
      if ('ontouchstart' in window) {
        $('.tooltip-wrapper').on('click', function(e) {
          e.stopPropagation();
          $('.tooltip-wrapper').removeClass('mobile-active');
          $(this).addClass('mobile-active');
        });
        
        $(document).on('click', function() {
          $('.tooltip-wrapper').removeClass('mobile-active');
        });
      }
      
      // Theme toggle handlers
      $('.theme-btn').on('click', function() {
        applyTheme($(this).data('theme'));
        updateURLState();
      });
      
      // Density toggle handlers
      $('.density-btn').on('click', function() {
        applyDensity($(this).data('density'));
        updateURLState();
      });
      
      
      
      // View toggle (mobile)
      $('#viewToggle').on('click', function() {
        isCardView = !isCardView;
        if (isCardView) {
          $('.table-view').hide();
          $('.card-view').show();
          $('.column-selector').hide();
          $(this).html('ğŸ“Š è¡¨æ ¼è§†å›¾');
          renderCardView();
        } else {
          $('.table-view').show();
          $('.card-view').hide();
          $('.column-selector').show();
          $(this).html('ğŸ“± Card View');
        }
      });
      
      // Capability filter handlers
      $('.capability-checkbox input').on('change', function() {
        updateCapabilityFilters();
        updateURLState();
      });
      
      $('.capability-checkbox').on('click', function(e) {
        if (e.target.tagName !== 'INPUT') {
          const checkbox = $(this).find('input');
          checkbox.prop('checked', !checkbox.prop('checked'));
          updateCapabilityFilters();
          updateURLState();
        }
      });
      
      $('.filter-mode-btn').on('click', function() {
        capabilityFilterMode = $(this).data('mode');
        $('.filter-mode-btn').removeClass('active');
        $(this).addClass('active');
        applyCapabilityFilters();
        updateURLState();
      });
      
      $('#clearFiltersBtn').on('click', function() {
        clearCapabilityFilters();
        updateURLState();
      });
      
      
      
      // Help modal
      $('#helpBtn').on('click', function() {
        $('#shortcutsModal').show();
      });
      
      $('.close').on('click', function() {
        $('#shortcutsModal').hide();
      });
      
      $(window).on('click', function(e) {
        if ($(e.target).hasClass('modal')) {
          $('.modal').hide();
        }
      });
      
      // Column visibility
      $('.column-checkbox input').on('change', function() {
        const column = $(this).data('column');
        const isVisible = $(this).prop('checked');
        
        if (dataTable) {
          dataTable.column(column).visible(isVisible);
        }
        
        columnVisibility[column] = isVisible;
        localStorage.setItem('columnVisibility', JSON.stringify(columnVisibility));
        updateURLState();
      });
      
      // Listen for system theme changes
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
        if (currentTheme === 'system') {
          applyTheme('system');
        }
      });
      
      // Fetch and display the updated date
      $.get("data/updated", function(data) {
        var dateStr = data.trim();
        var year = dateStr.substring(0, 4);
        var month = dateStr.substring(4, 6);
        var day = dateStr.substring(6, 8);
        var hour = dateStr.substring(9, 11);
        var minute = dateStr.substring(11, 13);
        var second = dateStr.substring(13, 15);
        var formattedDate = `æ›´æ–°æ—¶é—´ - æ—¥æœŸ: ${year}-${month}-${day} ${hour}:${minute}:${second} UTC`;
        $("#updatedDate").text(formattedDate);
      });

      // Fetch and display the CSV data
      $.get("data/output.csv", function(data) {
        // Ensure proper UTF-8 handling
        var lines = data.split(/\r?\n/);
  
        // Create a mapping of original headers to new headers
        var headerMapping = {
          "æ¨¡å‹ ID": "æ¨¡å‹ ID",
          "æ¨¡å‹åç§°": "æ¨¡å‹åç§°",
          "åˆ›å»ºæ—¶é—´": "åˆ›å»ºæ—¶é—´",
          "ä¸Šä¸‹æ–‡é•¿åº¦": "ä¸Šä¸‹æ–‡é•¿åº¦",
          "è¾“å…¥æˆæœ¬": "è¾“å…¥æˆæœ¬ <br>1M token/$",
          "è¾“å‡ºæˆæœ¬": "è¾“å‡ºæˆæœ¬ <br>1M token/$",
          "å·¥å…·è°ƒç”¨": "å·¥å…·è°ƒç”¨",
          "ç»“æ„åŒ–è¾“å‡º": "ç»“æ„åŒ–è¾“å‡º",
          "æ¨ç†": "æ¨ç†",
          "å“åº”æ ¼å¼": "å“åº”æ ¼å¼",
          "ç½‘ç»œæœç´¢": "ç½‘ç»œæœç´¢"
        };
  
        // Get the headers from the first row of the CSV
        var headers = lines[0].split(",");
        var headerHtml = "";
        headers.forEach(function(header) {
          var trimmedHeader = header.trim();
          var newHeader = headerMapping[trimmedHeader] || trimmedHeader;
          headerHtml += "<th>" + newHeader + "</th>";
        });
        $("#tableHeaders").html(headerHtml);
  
        // Function to remove quotes
        function removeQuotes(value) {
          return value.replace(/^"|"$/g, '').trim();
        }
  
        // Populate the table with CSV data
        for (var i = 1; i < lines.length; i++) {
          if (lines[i].trim() !== "") {
            var row = lines[i].split(",");
            var rowHtml = "<tr>";
            var currentId = "";
            var rowData = {};
  
            row.forEach(function(cell, index) {
              var columnName = headers[index].trim();
              var cleanedValue = removeQuotes(cell.trim());
  
              // Capture the id for the current row
              if (columnName === "æ¨¡å‹ ID") {
                currentId = cleanedValue;
                rowData.id = cleanedValue;
              }
              
              if (columnName === "æ¨¡å‹åç§°") {
                rowData.name = cleanedValue;
              }
  
              // Check for pricing columns
              if ((columnName === "è¾“å…¥æˆæœ¬" || columnName === "è¾“å‡ºæˆæœ¬") && currentId !== "openrouter/auto") {
                var numericValue = parseFloat(cleanedValue.replace(/,/g, ''));
                if (!isNaN(numericValue)) {
                  var multipliedValue = numericValue * 1000000;
                  var formattedValue = multipliedValue.toFixed(2);
                  
                  if (columnName === "è¾“å…¥æˆæœ¬") {
                    rowData.prompt_cost = formattedValue;
                  } else {
                    rowData.completion_cost = formattedValue;
                  }
                  
                  rowHtml += "<td>" + formattedValue + "</td>";
                } else {
                  rowHtml += "<td>Invalid</td>";
                }
              } else if (columnName === "åˆ›å»ºæ—¶é—´") {
                // Convert Unix timestamp to YYYY-MM-DD format
                var unixTimestamp = parseInt(cleanedValue, 10);
                if (!isNaN(unixTimestamp)) {
                  var date = new Date(unixTimestamp * 1000);
                  var formattedDate = date.toISOString().split('T')[0];
                  rowData.created = formattedDate;
                  rowHtml += "<td>" + formattedDate + "</td>";
                } else {
                  rowData.created = "Invalid Date";
                  rowHtml += "<td>Invalid Date</td>";
                }
              } else if (columnName === "æ¨¡å‹åç§°") {
                // Add hyperlink to the Model Name field
                rowHtml += `<td><a href="https://openrouter.ai/models/${currentId}" target="_blank">${cleanedValue}</a></td>`;
              } else if (columnName === "ä¸Šä¸‹æ–‡é•¿åº¦") {
                rowData.context_length = cleanedValue;
                rowHtml += "<td>" + cleanedValue + "</td>";
              } else if (columnName === "å·¥å…·è°ƒç”¨") {
                rowData.tool_calling = cleanedValue;
                rowHtml += "<td>" + (cleanedValue === "Yes" ? "âœ“" : "-") + "</td>";
              } else if (columnName === "ç»“æ„åŒ–è¾“å‡º") {
                rowData.structured_outputs = cleanedValue;
                rowHtml += "<td>" + (cleanedValue === "Yes" ? "âœ“" : "-") + "</td>";
              } else if (columnName === "æ¨ç†") {
                rowData.reasoning = cleanedValue;
                rowHtml += "<td>" + (cleanedValue === "Yes" ? "âœ“" : "-") + "</td>";
              } else if (columnName === "å“åº”æ ¼å¼") {
                rowData.response_format = cleanedValue;
                rowHtml += "<td>" + (cleanedValue === "Yes" ? "âœ“" : "-") + "</td>";
              } else if (columnName === "ç½‘ç»œæœç´¢") {
                rowData.web_search = cleanedValue;
                rowHtml += "<td>" + (cleanedValue === "Yes" ? "âœ“" : "-") + "</td>";
              } else {
                rowHtml += "<td>" + cleanedValue + "</td>";
              }
            });
  
            rowHtml += "</tr>";
            $("#tableBody").append(rowHtml);
            allData.push(rowData);
          }
        }
        
        
  
        // Setup custom DataTables filter for capabilities
        $.fn.dataTable.ext.search.push(function(settings, data, dataIndex) {
          if (!isCapabilityFilterActive) return true;
          
          // Get the row data from our allData array
          const rowData = allData[dataIndex];
          if (!rowData) return true;
          
          if (capabilityFilterMode === 'all') {
            // Match ALL selected capabilities
            return activeCapabilityFilters.every(cap => rowData[cap] === 'Yes');
          } else {
            // Match ANY selected capability
            return activeCapabilityFilters.some(cap => rowData[cap] === 'Yes');
          }
        });
        
        // Initialize DataTables
        dataTable = $('#csvTable').DataTable({
          paging: false,
          dom: 'Bfrtip',
          buttons: [
            {
              extend: 'copy',
              text: 'å¤åˆ¶',
              className: 'buttons-copy'
            },
            {
              extend: 'csv',
              text: 'CSV',
              className: 'buttons-csv'
            },
            {
              extend: 'excel',
              text: 'Excel',
              className: 'buttons-excel'
            },
            {
              extend: 'pdf',
              text: 'PDF',
              className: 'buttons-pdf'
            },
            {
              extend: 'print',
              text: 'æ‰“å°',
              className: 'buttons-print'
            }
          ],
          responsive: true,
          searchHighlight: true,
          drawCallback: function() {
            // Draw callback function
          }
        });
        
        // Apply saved column visibility
        Object.keys(columnVisibility).forEach(column => {
          dataTable.column(parseInt(column)).visible(columnVisibility[column]);
          $(`.column-checkbox input[data-column="${column}"]`).prop('checked', columnVisibility[column]);
        });
        
        // Load state from URL
        loadFromURL();
        
        // Update URL on search
        $('.dataTables_filter input').on('keyup', function() {
          updateURLState();
        });
      });
    });
  </script>

</body>
</html>